{"ast":null,"code":"var _jsxFileName = \"/Users/shuzhan/Documents/GitHub/renting_system/rent_front/src/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Checkbox, Button, Divider, DatePicker, Input, InputNumber, Row, Col, Form, message, List, Descriptions } from 'antd';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CheckboxGroup = Checkbox.Group;\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = checkedValue => {\n      let new_search_value = {};\n      checkedValue.forEach(val => {\n        new_search_value[val] = true;\n      });\n      console.log(new_search_value);\n      this.setState({\n        search_value: new_search_value\n      }, () => {\n        console.log(\"state\", this.state.search_value);\n      });\n    };\n\n    this.search = searchValue => {\n      // const searchValue = JSON.stringify(this.state.search_value);\n      axios.post('/pillow/search/adv_search/', searchValue).then(res => {\n        var _res$data, _res$data$response, _res$data2, _res$data2$response;\n\n        console.log(res.data.response.results);\n\n        if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$response = _res$data.response) === null || _res$data$response === void 0 ? void 0 : _res$data$response.error) === \"NONE\") {\n          message.error(\"No result found!\");\n        }\n\n        if ((res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$response = _res$data2.response) === null || _res$data2$response === void 0 ? void 0 : _res$data2$response.results) !== '') {\n          const results = res.data.response.results;\n          console.log(results);\n          this.setState({\n            results\n          });\n        }\n      }).catch(error => console.log(error.response));\n    };\n\n    this.resultList = () => {\n      const results = this.state.results;\n      return /*#__PURE__*/_jsxDEV(List, {\n        itemLayout: \"vertical\",\n        size: \"large\",\n        pagination: {\n          pageSize: 5\n        },\n        dataSource: results,\n        renderItem: item =>\n        /*#__PURE__*/\n        // \"id\": \"6\",\n        // \"name\": \"Albert Bush\",\n        // \"location\": \"(-124.36136, -58.23093)\",\n        // \"address\": \"cOXeQpOoMk\",\n        // \"landlord_id\": \"114\",\n        // \"gym\": \"1\",\n        // \"parking\": \"1\",\n        // \"utility\": \"3\",\n        // \"laundry\": \"1\",\n        // \"swimming_pool\": \"0\",\n        // \"description\": \"None\",\n        // \"min_price\": \"661\",\n        // \"max_price\": \"664\",\n        // \"start_date\": \"2022-08-20\",\n        // \"end_date\": \"2023-08-20\n        _jsxDEV(List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n            title: item.name,\n            description: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n            title: \"Apartment Info\",\n            bordered: true,\n            children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Gym\",\n              children: \"Cloud Database\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Parking\",\n              children: \"Prepaid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Laundry\",\n              children: item.laundry === 1 ? 'Yes' : 'No'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Swimming Pool\",\n              children: item.laundry === 1 ? 'Yes' : 'No'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"Start date\",\n              children: \"2018-04-24 18:00:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              label: \"End date\",\n              span: 2,\n              children: \"2019-04-24 18:00:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this);\n    };\n\n    this.FourCheckboxGroup = _ref => {\n      let {\n        onChange\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(CheckboxGroup, {\n        style: {\n          width: '40%'\n        },\n        onChange: onChange,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              value: \"gym\",\n              children: \"gym\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              value: \"parking\",\n              children: \"parking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              value: \"laundry\",\n              children: \"laundry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              value: \"swimming_pool\",\n              children: \"swimming_pool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 44\n      }, this);\n    };\n\n    this.onFinish = value => {\n      const {\n        min_price,\n        max_price,\n        mean_rate\n      } = value;\n      const request = {\n        min_price,\n        max_price,\n        mean_rate\n      };\n\n      if (value.name && value.name !== \" \") {\n        request.name = value.name;\n      }\n\n      if (value.fourcheckbox) {\n        const checkedValue = value.fourcheckbox;\n        checkedValue.forEach(val => {\n          request[val] = true;\n        });\n      }\n\n      if (value.start_date) {\n        const standard = value.start_date.format(\"YYYY-MM-DD\");\n        request.start_date = standard;\n      }\n\n      if (min_price) {\n        request.min_price = min_price;\n      }\n\n      if (max_price) {\n        request.max_price = max_price;\n      }\n\n      if (mean_rate) {\n        request.mean_rate = mean_rate;\n      }\n\n      console.log(\"request value\", request);\n      this.search(request);\n    };\n\n    this.form = () => /*#__PURE__*/_jsxDEV(Form, {\n      name: \"search_form\",\n      onFinish: this.onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"name\",\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          onChange: e => {\n            console.log(\"input1\", e.target.value);\n          },\n          placeholder: \"Please input the apartment name you want to explore\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"fourcheckbox\",\n        children: /*#__PURE__*/_jsxDEV(this.FourCheckboxGroup, {\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"min_price\",\n        label: \"Min Price\",\n        children: /*#__PURE__*/_jsxDEV(InputNumber, {\n          min: 500,\n          max: 1000\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"max_price\",\n        label: \"Max Price\",\n        children: /*#__PURE__*/_jsxDEV(InputNumber, {\n          min: 500,\n          max: 1000\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"start_date\",\n        label: \"Start Date\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"mean_rate\",\n        label: \"Min Rate\",\n        children: /*#__PURE__*/_jsxDEV(InputNumber, {\n          min: 0,\n          max: 5,\n          step: 0.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this);\n\n    this.state = {\n      search_value: {},\n      results: null\n    };\n  } // Checkbox onchange\n\n\n  render() {\n    const results = this.state.results;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(this.form, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this), results && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"searchResult\",\n        children: \"result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/shuzhan/Documents/GitHub/renting_system/rent_front/src/Search.js"],"names":["React","Component","axios","Checkbox","Button","Divider","DatePicker","Input","InputNumber","Row","Col","Form","message","List","Descriptions","moment","CheckboxGroup","Group","Search","constructor","props","onChange","checkedValue","new_search_value","forEach","val","console","log","setState","search_value","state","search","searchValue","post","then","res","data","response","results","error","catch","resultList","pageSize","item","name","description","laundry","id","FourCheckboxGroup","width","onFinish","value","min_price","max_price","mean_rate","request","fourcheckbox","start_date","standard","format","form","e","target","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Checkbox, Button, Divider, DatePicker, Input, InputNumber, Row, Col, Form, message, List, Descriptions } from 'antd';\nimport moment from 'moment';\n\nconst CheckboxGroup = Checkbox.Group;\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            search_value: {},\n            results: null\n        }\n    }\n\n    // Checkbox onchange\n    onChange = (checkedValue) => {\n        let new_search_value = {};\n        checkedValue.forEach(val => {\n            new_search_value[val] = true\n        });\n        console.log(new_search_value);\n        this.setState({ search_value: new_search_value }, () => {\n            console.log(\"state\", this.state.search_value);\n        });\n    }\n\n    search = (searchValue) => {\n        // const searchValue = JSON.stringify(this.state.search_value);\n        axios.post('/pillow/search/adv_search/', searchValue).then(res => {\n            console.log(res.data.response.results);\n            if (res?.data?.response?.error === \"NONE\") {\n                message.error(\"No result found!\");\n            }\n            if (res?.data?.response?.results !== '') {\n                const results = res.data.response.results;\n                console.log(results);\n                this.setState({ results });\n            }\n        }).catch(error => console.log(error.response));\n    }\n\n    resultList = () => {\n        const results = this.state.results;\n        return (<List\n            itemLayout=\"vertical\"\n            size=\"large\"\n            pagination={{pageSize: 5}}\n            dataSource={results}\n            renderItem={item => (\n                // \"id\": \"6\",\n                // \"name\": \"Albert Bush\",\n                // \"location\": \"(-124.36136, -58.23093)\",\n                // \"address\": \"cOXeQpOoMk\",\n                // \"landlord_id\": \"114\",\n                // \"gym\": \"1\",\n                // \"parking\": \"1\",\n                // \"utility\": \"3\",\n                // \"laundry\": \"1\",\n                // \"swimming_pool\": \"0\",\n                // \"description\": \"None\",\n                // \"min_price\": \"661\",\n                // \"max_price\": \"664\",\n                // \"start_date\": \"2022-08-20\",\n                // \"end_date\": \"2023-08-20\n                <List.Item\n                    key={item.id}\n                >\n                    <List.Item.Meta\n                        title={item.name}\n                        description={item.description}\n                    />\n                    <Descriptions title=\"Apartment Info\" bordered>\n                        <Descriptions.Item label=\"Gym\">Cloud Database</Descriptions.Item>\n                        <Descriptions.Item label=\"Parking\">Prepaid</Descriptions.Item>\n                        <Descriptions.Item label=\"Laundry\">{item.laundry === 1 ? 'Yes' : 'No'}</Descriptions.Item>\n                        <Descriptions.Item label=\"Swimming Pool\">{item.laundry === 1 ? 'Yes' : 'No'}</Descriptions.Item>\n                        <Descriptions.Item label=\"Start date\">2018-04-24 18:00:00</Descriptions.Item>\n                        <Descriptions.Item label=\"End date\" span={2}>\n                            2019-04-24 18:00:00\n                        </Descriptions.Item>\n                    </Descriptions>\n                </List.Item>)}\n            >\n        </List>);\n    }\n    // name = request.data.get('name') input\n    // gym = request.data.get('gym') boolean\n    // parking = request.data.get('parking') boolean\n    // utility = request.data.get('utility') int(0-6)\n    // laundry = request.data.get('laundry') boolean\n    // swimming_pool = request.data.get('swimming_pool') boolean\n    // min_price = request.data.get('min_price') input number\n    // max_price = request.data.get('max_price') input number\n    // start_date = request.data.get('start_date') input time \n    // mean_rate = request.data.get('mean_rate') >= input\n\n    // inputName = () => (<Input onChange={(e) => {\n    //     console.log();\n    // }} placeholder=\"Please input the apartment name you want to explore\"></Input>);\n\n    FourCheckboxGroup = ({ onChange }) => (<CheckboxGroup style={{ width: '40%' }} onChange={onChange}>\n        <Row>\n            <Col span={8}><Checkbox value=\"gym\">gym</Checkbox></Col>\n            <Col span={8}><Checkbox value=\"parking\">parking</Checkbox></Col>\n            <Col span={8}><Checkbox value=\"laundry\">laundry</Checkbox></Col>\n            <Col span={8}><Checkbox value=\"swimming_pool\">swimming_pool</Checkbox></Col>\n        </Row>\n    </CheckboxGroup>);\n\n    onFinish = (value) => {\n        const { min_price, max_price, mean_rate } = value;\n        const request = { min_price, max_price, mean_rate };\n        if (value.name && value.name !== \" \") {\n            request.name = value.name;\n        }\n        if (value.fourcheckbox) {\n            const checkedValue = value.fourcheckbox;\n            checkedValue.forEach(val => {\n                request[val] = true;\n            });\n        }\n        if (value.start_date) {\n            const standard = value.start_date.format(\"YYYY-MM-DD\");\n            request.start_date = standard;\n        }\n        if (min_price) {\n            request.min_price = min_price;\n        }\n        if (max_price) {\n            request.max_price = max_price;\n        }\n        if (mean_rate) {\n            request.mean_rate = mean_rate;\n        }\n        console.log(\"request value\", request);\n        this.search(request);\n    }\n\n    // the whole search form\n    form = () => (\n        <Form name=\"search_form\" onFinish={this.onFinish}>\n            <Form.Item name=\"name\">\n                <Input onChange={(e) => { console.log(\"input1\", e.target.value) }}\n                    placeholder=\"Please input the apartment name you want to explore\" />\n            </Form.Item>\n            <Form.Item name=\"fourcheckbox\">\n                <this.FourCheckboxGroup onChange={this.onChange} />\n            </Form.Item>\n            <Form.Item name=\"min_price\" label=\"Min Price\">\n                <InputNumber min={500} max={1000}></InputNumber>\n            </Form.Item>\n            <Form.Item name=\"max_price\" label=\"Max Price\">\n                <InputNumber min={500} max={1000}></InputNumber>\n            </Form.Item>\n            <Form.Item name=\"start_date\" label=\"Start Date\">\n                <DatePicker></DatePicker>\n            </Form.Item>\n            <Form.Item name=\"mean_rate\" label=\"Min Rate\">\n                <InputNumber min={0} max={5} step={0.5}></InputNumber>\n            </Form.Item>\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Search\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n    render() {\n        const results = this.state.results;\n        return (<div><h1>Search</h1>\n            < this.form />\n            {results && <div id=\"searchResult\">result</div>}\n        </div>)\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}